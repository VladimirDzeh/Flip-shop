window.addEventListener("DOMContentLoaded",(()=>{"use strict";init(shopBase,"#categories",".cards__items",".cards__title",modal,'[data-modal="open"]',".pop-up__overlay","pop-up__body--visible","pop-up__overlay--visible"),submissionForm("form",'[data-action="minus"]','[data-action="plus"]',"[data-counter]",".pop-up__overlay","pop-up__body","pop-up__body--visible"),scrolling(".page__up",'a[href*="#category"]','a[href*="#up"]'),changingTheme('[data-action="theme"]',"theme-light","theme-dark"),showBurgerMenu("#burger","open")}));const showBurgerMenu=(e,a)=>{document.querySelector(e).addEventListener("click",(()=>{document.querySelector("header").classList.toggle(a)}))};class Cards{constructor(e,a,t,d,r){this.src=e,this.alt=a,this.prodName=t,this.dateAdded=d,this.parent=document.querySelector(r)}getFormattedDateInfo(e){const a=new Date(e.split(".").reverse().join()),t=["Воскресенье","Понедельник","Вторник","Среда","Четверг","Пятница","Суббота"][a.getDay()],d=a.getFullYear();let r=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"][a.getMonth()];r="Март"===r||"Август"===r?`${r}а`:`${r.slice(0,-1)}я`;let o=Math.ceil(a.getDate()/7);return 5===o&&a.getDate()>28&&(o=1),`${t}, ${o} неделя ${r} ${d} года`}render(){const e=document.createElement("li");e.classList.add("cards__item"),e.innerHTML=`\n                <article class="card">\n                    <div class="card__image">\n                        <img src=${this.src} alt=${this.alt}>\n                    </div>\n                    <div class="card__content">\n                    <h3 class="card__title">${this.prodName}</h3>\n                    <p class="card__date">Добавлено: ${this.getFormattedDateInfo(this.dateAdded)}</p>\n                    <button class="card__btn" data-modal="open">Купить</button>\n                    </div>\n                </article>\n            `,this.parent.append(e)}}const counterProd=(e,a,t)=>{const d=document.querySelector(e),r=document.querySelector(a),o=document.querySelector(t);d.addEventListener("click",(()=>{+o.innerText>1&&(o.innerText=--o.innerText)})),r.addEventListener("click",(()=>{o.innerText=++o.innerText}))},showThanksModal=(e,a,t,d)=>{const r=document.querySelector(e);r.firstElementChild.classList.remove(t);const o=document.createElement("div");o.classList.add(a,t),o.innerHTML='\n            <div class="pop-up__close" data-close>&#10006</div>\n            <div class="prod__choose thanks">Благодарим за покупку!</div>\n    ',r.append(o),setTimeout((()=>{o.remove(),d.reset(),document.querySelector("[data-counter]").innerText="1",closeModal(e,t,`${e.slice(1)}--visible`)}),2e3)},submissionForm=(e,a,t,d,r,o,n)=>{const i=document.querySelector(e);i.addEventListener("submit",(e=>{e.preventDefault(),showThanksModal(r,o,n,i)})),counterProd(a,t,d)},renderCards=(e,a)=>{document.querySelector(e).innerHTML="",a.forEach((a=>{new Cards(a.img,a.alt,a.prodName,a.dateAdded,e).render()}))},init=(e,a,t,d,r,o,n,i,s)=>{renderCards(t,e.longboards),r(o,n,i,s);document.querySelectorAll(a).forEach((a=>{a.addEventListener("click",(a=>{switch(a.preventDefault(),document.querySelector(d).textContent=a.target.textContent,a.target.dataset.action){case"long":renderCards(t,e.longboards);break;case"skate":renderCards(t,e.skateboards);break;case"penny":renderCards(t,e.pennyboards);break;case"finger":renderCards(t,e.fingerboards)}r(o,n,i,s)}))}))},openModal=(e,a,t)=>{const d=document.querySelector(e);d.firstElementChild.classList.add(a),d.classList.add(t),document.body.style.overflow="hidden"},closeModal=(e,a,t)=>{const d=document.querySelector(e);d.firstElementChild.classList.remove(a),d.classList.remove(t),document.body.style.overflow=""},modal=(e,a,t,d)=>{const r=document.querySelectorAll(e),o=document.querySelector(a);r.forEach((e=>{e.addEventListener("click",(()=>openModal(a,t,d)))})),o.addEventListener("click",(e=>{e.target!==o&&""!=e.target.getAttribute("data-close")||closeModal(a,t,d)}))},scrolling=(e,a,t)=>{const d=document.querySelector(e);window.addEventListener("scroll",(()=>{document.documentElement.scrollTop>400?d.style.opacity="1":d.style.opacity="0"}));const r=e=>{document.querySelectorAll(e).forEach((e=>{e.addEventListener("click",(a=>{a.preventDefault();const t=e.getAttribute("href");document.querySelector(t).scrollIntoView({behavior:"smooth",block:"start"})}))}))};r(a),r(t)},shopBase={longboards:[{img:"../../images/long/long_1.webp",alt:"Longboard Free Ride Cruiser",prodName:"Free Ride Cruiser",dateAdded:"05.11.2022"},{img:"../../images/long/long_2.webp",alt:"Longboard Dusters California Long Distance",prodName:"Dusters California Long Distance",dateAdded:"23.10.2022"},{img:"../../images/long/long_3.webp",alt:"Longboard Dusters California Cruiser",prodName:"Dusters California Cruiser",dateAdded:"26.11.2022"},{img:"../../images/long/long_4.webp",alt:"Longboard Dusters California Speedboard",prodName:"Dusters California Speedboard",dateAdded:"05.11.2022"},{img:"../../images/long/long_5.webp",alt:"Longboard Dusters California Speedboard",prodName:"Dusters California Speedboard",dateAdded:"01.10.2022"},{img:"../../images/long/long_6.webp",alt:"Longboard Dusters California Boardwalking",prodName:"Dusters California Boardwalking",dateAdded:"23.10.2022"},{img:"../../images/long/long_7.webp",alt:"Longboard Dusters Long Distance",prodName:"Dusters Long Distance",dateAdded:"18.02.2023"},{img:"../../images/long/long_8.webp",alt:"Longboard Dusters California Long Distance",prodName:"Dusters California Long Distance",dateAdded:"08.03.2023"},{img:"../../images/long/long_9.webp",alt:"Longboard Dusters California Dreaming Long Distance",prodName:"Dusters California Dreaming Long Distance",dateAdded:"19.03.2023"},{img:"../../images/long/long_10.webp",alt:"Longboard East Coast Long Distance",prodName:"East Coast Long Distance",dateAdded:"22.05.2023"},{img:"../../images/long/long_11.webp",alt:"Longboard East Coast Malibu Cruiser",prodName:"East Coast Malibu Cruiser",dateAdded:"13.01.2023"},{img:"../../images/long/long_12.webp",alt:"Longboard East Coast Pipeline Cruiser",prodName:"East Coast Pipeline Cruiser",dateAdded:"11.04.2023"},{img:"../../images/long/long_13.webp",alt:"Longboard Hawaii Style Long Distance",prodName:"Hawaii Style Long Distance",dateAdded:"01.05.2023"},{img:"../../images/long/long_14.webp",alt:"Longboard Plank Summer",prodName:"Plank Summer",dateAdded:"07.02.2023"}],skateboards:[{img:"../../images/skate/skate_1.webp",alt:"Skateboard Snake White",prodName:"Snake White",dateAdded:"03.11.2022"},{img:"../../images/skate/skate_2.webp",alt:"Skateboard Snake Dark",prodName:"Snake Dark",dateAdded:"28.11.2022"},{img:"../../images/skate/skate_3.webp",alt:"Skateboard Your Superhero",prodName:"Your Superhero",dateAdded:"21.03.2023"},{img:"../../images/skate/skate_4.webp",alt:"Skateboard Daker Classic",prodName:"Daker Classic",dateAdded:"10.05.2023"},{img:"../../images/skate/skate_5.webp",alt:"Skateboard Termit Classic",prodName:"Termit Classic",dateAdded:"15.04.2023"},{img:"../../images/skate/skate_6.webp",alt:"Skateboard Ride Mistic",prodName:"Ride Mistic",dateAdded:"10.01.2023"},{img:"../../images/skate/skate_7.webp",alt:"Skateboard Ride Octopus",prodName:"Ride Octopus",dateAdded:"10.09.2022"},{img:"../../images/skate/skate_8.webp",alt:"Skateboard Explore",prodName:"Explore",dateAdded:"13.02.2023"},{img:"../../images/skate/skate_9.webp",alt:"Skateboard Plank Board Co",prodName:"Plank Board Co",dateAdded:"20.03.2023"},{img:"../../images/skate/skate_10.webp",alt:"Skateboard Footwork skate",prodName:"Footwork skate",dateAdded:"11.03.2023"},{img:"../../images/skate/skate_11.webp",alt:"Skateboard Powell Peralta",prodName:"Powell Peralta",dateAdded:"29.04.2023"},{img:"../../images/skate/skate_12.webp",alt:"Skateboard Powell Peralta",prodName:"Powell Peralta",dateAdded:"20.01.2023"}],pennyboards:[{img:"../../images/penny/penny_1.webp",alt:"Pennyboard Atemi Blue",prodName:"Atemi Blue",dateAdded:"29.04.2023"},{img:"../../images/penny/penny_2.webp",alt:"Pennyboard Globo Light Turquoise",prodName:"Globo Light Turquoise",dateAdded:"21.12.2022"},{img:"../../images/penny/penny_3.webp",alt:"Pennyboard Globo Light Violet",prodName:"Globo Light Violet",dateAdded:"02.04.2023"},{img:"../../images/penny/penny_4.webp",alt:"Pennyboard Atemi Colorful",prodName:"Atemi Colorful",dateAdded:"07.05.2023"},{img:"../../images/penny/penny_5.webp",alt:"Pennyboard Penny Australia",prodName:"Penny Australia",dateAdded:"02.11.2022"},{img:"../../images/penny/penny_6.webp",alt:"Pennyboard Penny Australia Colorful",prodName:"Penny Australia Colorful",dateAdded:"23.04.2023"},{img:"../../images/penny/penny_7.webp",alt:"Pennyboard Penny Night",prodName:"Penny Night",dateAdded:"27.02.2023"},{img:"../../images/penny/penny_8.webp",alt:"Pennyboard Rose Man",prodName:"Rose Man",dateAdded:"12.01.2023"},{img:"../../images/penny/penny_9.webp",alt:"Pennyboard Penny Australia Yellow",prodName:"Penny Australia Yellow",dateAdded:"23.04.2023"},{img:"../../images/penny/penny_10.webp",alt:"Pennyboard Globo Pink",prodName:"Globo Pink",dateAdded:"03.04.2023"},{img:"../../images/penny/penny_11.webp",alt:"Pennyboard Globo Marvel",prodName:"Globo Marvel",dateAdded:"01.02.2023"}],fingerboards:[{img:"../../images/finger/finger_1.webp",alt:"Fingerboard Jump Transformer",prodName:"Jump Transformer",dateAdded:"17.01.2023"},{img:"../../images/finger/finger_2.webp",alt:"Fingerboard Jump Turbo",prodName:"Jump Turbo",dateAdded:"27.11.2022"},{img:"../../images/finger/finger_3.webp",alt:"Fingerboard Trajectory",prodName:"Trajectory",dateAdded:"07.12.2022"},{img:"../../images/finger/finger_5.webp",alt:"Fingerboard Wide Turbo",prodName:"Wide Turbo",dateAdded:"13.10.2022"},{img:"../../images/finger/finger_6.webp",alt:"Fingerboard Jump Donut",prodName:"Jump Donut",dateAdded:"25.01.2023"},{img:"../../images/finger/finger_7.webp",alt:"Fingerboard Jump Turbo",prodName:"Jump Turbo",dateAdded:"15.12.2022"},{img:"../../images/finger/finger_8.webp",alt:"Fingerboard Anti-Once",prodName:"Anti-Once",dateAdded:"11.04.2023"},{img:"../../images/finger/finger_9.webp",alt:"Fingerboard Anti-Once",prodName:"Anti-Once",dateAdded:"22.05.2023"},{img:"../../images/finger/finger_10.webp",alt:"Fingerboard Profi",prodName:"Profi",dateAdded:"22.04.2023"},{img:"../../images/finger/finger_11.webp",alt:"Fingerboard BM Cheers",prodName:"BM Cheers",dateAdded:"22.03.2023"},{img:"../../images/finger/finger_12.webp",alt:"Fingerboard BM Fire",prodName:"BM Fire",dateAdded:"22.02.2023"},{img:"../../images/finger/finger_13.webp",alt:"Fingerboard BM Good Enough",prodName:"BM Good Enough",dateAdded:"02.05.2023"},{img:"../../images/finger/finger_14.webp",alt:"Fingerboard The Toxic Element",prodName:"The Toxic Element",dateAdded:"22.09.2022"},{img:"../../images/finger/finger_15.webp",alt:"Fingerboard K80-S",prodName:"SK80-S",dateAdded:"21.10.2022"},{img:"../../images/finger/finger_16.webp",alt:"Fingerboard Anti-Once Limited Edition",prodName:"Anti-Once Limited Edition",dateAdded:"30.04.2023"}]},initialState=e=>{localStorage.setItem("theme",e),document.documentElement.className=e},toggleTheme=(e,a)=>{localStorage.getItem("theme")===a?initialState(e):initialState(a)},changingTheme=(e,a,t)=>{const d=document.querySelector(e);initialState(a),d.addEventListener("click",(e=>{var d,r;e.preventDefault(),d=a,r=t,localStorage.getItem("theme")===r?initialState(d):initialState(r)}))};